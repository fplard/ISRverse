# WARNING - Generated by {fusen} from dev/flat_main.Rmd: do not edit by hand

test_that("Load_Zimsdata works", {
  
  file = system.file("sci_Animal.csv", package = 'ISRverse')
  ZIMSDirtest = dirname(file)
  # Split_Zimsdata	(ZIMSDir = ZIMSDirtest)
  
  data <- Load_Zimsdata	(Taxa = "Reptilia", 
                         ZIMSDir = ZIMSDirtest, 
                         Species = list(Reptilia = "All"),
                         Animal = TRUE,
                         tables = c('Weight'))
  
  expect_named(data$Reptilia, c("Animal",  "Weight"))
  expect_true(is.data.frame(data$Reptilia$Animal))
  expect_true(is.data.frame(data$Reptilia$Weight))
  expect_named(data$Reptilia$Weight, c("AnimalAnonID", "RecordingInstitution", "MeasurementType", "RecordType", "MeasurementValue", "EstimatedMeasurement", "ExcludededFromNorms", "MeasurementDate", "MeasurementDateEstimateType", "MeasurementDateEstimateStart", "MeasurementDateEstimateEnd", "CollectionScopeType",  "AnimalAgeMonths", "AnimalAgeDays", "Age", "UnitOfMeasure")) 
  
}
)

test_that("Load_Zimsdata works2", {
  
  file = system.file("sci_Animal.csv", package = 'ISRverse')
  ZIMSDirtest = dirname(file)
  # Split_Zimsdata	(ZIMSDir = ZIMSDirtest)

  Load_Zimsdata	(Taxa = "Reptilia", 
                         ZIMSDir = ZIMSDirtest, 
                         Species = list(Reptilia = c('bb')),
                         Animal = TRUE,
                         tables = 'Weight')
  
    Load_Zimsdata	(Taxa = "Reptilia", 
                         ZIMSDir = ZIMSDirtest, 
                         Species = list(Reptilia = c("Testudo hermanni")),
                         Animal = TRUE,
                         tables = 'Weight')
  
}
)
