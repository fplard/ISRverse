# WARNING - Generated by {fusen} from dev/flat_select.Rmd: do not edit by hand

test_that("tx_report works", {
  data(core)
  data(collection)
  data(raw_weights)
  PlotDir = paste0(tempdir(check = TRUE),'\\temp')
  dir.create(PlotDir)
  
  out <- tx_report(species = "Gorilla gorilla", taxa = "Mammalia",
                   core, collection, weights =raw_weights,
                   PlotDir = PlotDir, Sections = c('sur','gro'),
                   sexCats = c("Male", "Female"),
                   models_sur = "GO", shape = "bathtub",
                   models_gro = "vonBertalanffy"
  )
  expect_named(out, c('general', "summary", 'surv', 'weig'))
  expect_true(file.exists(paste(PlotDir, "Gorilla gorilla_Male_LongThres.pdf", sep = '\\')))
  # expect_true(file.exists(paste(PlotDir, "Gorilla gorilla_Male_sur.pdf", sep = '\\')))
 # XXXXXXXXXXXXXXXXXXXXXXXXX
  unlink(PlotDir, recursive = TRUE)
})
