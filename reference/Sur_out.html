<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Create output and plots for the survival analysis — Sur_out • ISRverse</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Create output and plots for the survival analysis — Sur_out"><meta property="og:description" content="estimates key metrics from the selected survival model and returns illustrating plots of the survival model."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ISRverse</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/data-selection.html">Data Selection</a>
    </li>
    <li>
      <a href="../articles/growth.html">Growth</a>
    </li>
    <li>
      <a href="../articles/reproduction.html">Reproduction</a>
    </li>
    <li>
      <a href="../articles/survival.html">Survival</a>
    </li>
    <li>
      <a href="../articles/taxon-profiles.html">Taxon profiles</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create output and plots for the survival analysis</h1>

    <div class="hidden name"><code>Sur_out.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>estimates key metrics from the selected survival model and returns illustrating plots of the survival model.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">Sur_out</span><span class="op">(</span></span>
<span>  <span class="va">out</span>,</span>
<span>  MinAge <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  MinMLE <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>  MaxLE <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  MinLx <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>  MaxAge <span class="op">=</span> <span class="fl">120</span>,</span>
<span>  AgeMat <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  ncpus <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  PlotDir <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  PlotName <span class="op">=</span> <span class="st">""</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-out">out<a class="anchor" aria-label="anchor" href="#arg-out"></a></dt>
<dd><p><code>list</code> output of the survival analysis,  returns from <code><a href="Sur_ana.html">Sur_ana()</a></code></p></dd>


<dt id="arg-minage">MinAge<a class="anchor" aria-label="anchor" href="#arg-minage"></a></dt>
<dd><p><code>numeric</code> Ages at which the survival analysis should start, in years.  see ?basta for more information.</p></dd>


<dt id="arg-minmle">MinMLE<a class="anchor" aria-label="anchor" href="#arg-minmle"></a></dt>
<dd><p><code>numeric</code> Value used for checks. Minimum survivorship allowed at mean life expectancy. Between 0 and 1.</p></dd>


<dt id="arg-maxle">MaxLE<a class="anchor" aria-label="anchor" href="#arg-maxle"></a></dt>
<dd><p><code>numeric</code> Value used for checks. Maximum remaining life expectancy at last observed age. In years.</p></dd>


<dt id="arg-minlx">MinLx<a class="anchor" aria-label="anchor" href="#arg-minlx"></a></dt>
<dd><p><code>numeric</code> Value used for longevity threshold and for checks. between 0 and 1. Minimum reached survivorship from the raw Kaplan Meier analysis. This number avoids running survival analysis if there are too few dead individuals in the data. Lower is better.</p></dd>


<dt id="arg-maxage">MaxAge<a class="anchor" aria-label="anchor" href="#arg-maxage"></a></dt>
<dd><p><code>numeric</code> Maximum possible age in years. Only used for model predictions. This argument is not used to select data.</p></dd>


<dt id="arg-agemat">AgeMat<a class="anchor" aria-label="anchor" href="#arg-agemat"></a></dt>
<dd><p><code>numeric</code> Age at sexual maturity, in years. If given, key survival metrics are calculated both from birth and from age at sexual maturity.</p></dd>


<dt id="arg-ncpus">ncpus<a class="anchor" aria-label="anchor" href="#arg-ncpus"></a></dt>
<dd><p><code>numeric</code> Number of computer core to use.</p></dd>


<dt id="arg-plotdir">PlotDir<a class="anchor" aria-label="anchor" href="#arg-plotdir"></a></dt>
<dd><p><code>character</code> Directory to save the plots. Default: no plot is saved</p></dd>


<dt id="arg-plotname">PlotName<a class="anchor" aria-label="anchor" href="#arg-plotname"></a></dt>
<dd><p><code>character</code> Name used to save the plots.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>The output list of the survival analysis including, in addition:</p><ul><li><p>Key survival metrics including Mean life expectancy (MLE &amp; Ex), median life
expectancy (L50) and  age at which 90% of the individual died (Longevity = L90)
estimated from raw data, the Kaplan Meier estimator, and the survival model. Estimates
include ages from birth or from age at sexual maturity (if given). First year
survival, First month survival, Entropy (H and Epx = -log(H)), coefficient of
variation (CV) and Gini coefficient (G) are also estimated from the Kaplan-Meier
estimator and the survival model.</p></li>
<li><p>Checks of the fit for the selected survival model:</p><ul><li><p>Gof_KM_coeff1: Percentage of age points where the KM estimator is outside of the
95% CI of the survivorship estimated from the survival model.</p></li>
<li><p>Gof_KM_coeff2: Maximum sum of same sign residuals between KM estimator and
survival model</p></li>
<li><p>Gof_martingale KM: Value of the test that must be compared to a kolmogorov Smirnov table and test telling if the model fits</p></li>
<li><p>LxatMLE: Estimated survivorship at mean life expectancy</p></li>
<li><p>LEmaxOage: Life expectancy at max observed age</p></li>
<li><p>KMMinLx: Minimum survivorship reached by the Kaplan-Meier estimator</p></li>
</ul></li>
<li><p>The remaining life expectancy per age (relex_from0)</p></li>
<li><p>The probability to live 5 years more (Sur5)</p></li>
<li><p>Age-specific survival  (Sur1)</p></li>
<li><p>Monthly survival  (Sur1m)</p><ul><li><p>One showing the convergence of chains, together with estimated survivorship and
survival and mortality rates.</p></li>
<li><p>The second showing remaining life-expectancy, and the age-specific probabilities
to live 5 years and 1 year more.</p></li>
</ul></li>
</ul></div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">core</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">deathinformation</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu"><a href="Sur_ana.html">Sur_ana</a></span><span class="op">(</span><span class="va">core</span>,  DeathInformation <span class="op">=</span> <span class="va">deathinformation</span>, </span></span>
<span class="r-in"><span>               Models <span class="op">=</span> <span class="st">"GO"</span>, Shape <span class="op">=</span> <span class="st">"simple"</span>,</span></span>
<span class="r-in"><span>               niter <span class="op">=</span> <span class="fl">1000</span>, burnin <span class="op">=</span> <span class="fl">101</span>, thinning <span class="op">=</span> <span class="fl">10</span>, nchain <span class="op">=</span> <span class="fl">3</span>, ncpus <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "GO"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Running sequence to find jump SDs... Done</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Total jump SDs computing time: 11.12 secs.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Multiple simulations started...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Unknown option on commandline: --file</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> snowfall 1.84-6.3 initialized (using snow 0.4-4): parallel execution on 3 CPUs.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Library BaSTA loaded.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Library BaSTA loaded in cluster.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Stopping cluster</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Simulations finished.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Total MCMC computing time: 5.94 secs.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Calculating summary statistics... Done.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> All parameters converged properly.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Constructing life table... done.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu">Sur_out</span><span class="op">(</span><span class="va">out</span>, ncpus <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Unknown option on commandline: --file</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> snowfall 1.84-6.3 initialized (using snow 0.4-4): parallel execution on 3 CPUs.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Stopping cluster</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Joining with `by = join_by(Ages)`</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Floriane Plard.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

      </footer></div>






  </body></html>

